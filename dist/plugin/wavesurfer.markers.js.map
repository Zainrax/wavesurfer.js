{"version":3,"file":"wavesurfer.markers.js","mappings":"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","sources":["webpack://WaveSurfer/webpack/universalModuleDefinition","webpack://WaveSurfer/./src/plugin/markers/index.js","webpack://WaveSurfer/webpack/bootstrap","webpack://WaveSurfer/webpack/before-startup","webpack://WaveSurfer/webpack/startup","webpack://WaveSurfer/webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"WaveSurfer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"WaveSurfer\"] = factory();\n\telse\n\t\troot[\"WaveSurfer\"] = root[\"WaveSurfer\"] || {}, root[\"WaveSurfer\"][\"markers\"] = factory();\n})(self, () => {\nreturn ","\n/**\n * @typedef {Object} MarkerParams\n * @desc The parameters used to describe a marker.\n * @example wavesurfer.addMarker(regionParams);\n * @property {number} time The time to set the marker at\n * @property {?label} string An optional marker label\n * @property {?color} string Background color for marker\n * @property {?position} string \"top\" or \"bottom\", defaults to \"bottom\"\n * @property {?markerElement} element An HTML element to display instead of the default marker image\n */\n\n\n/**\n * Markers are points in time in the audio that can be jumped to.\n *\n * @implements {PluginClass}\n *\n * @example\n * import MarkersPlugin from 'wavesurfer.markers.js';\n *\n * // if you are using <script> tags\n * var MarkerPlugin = window.WaveSurfer.markers;\n *\n * // ... initialising wavesurfer with the plugin\n * var wavesurfer = WaveSurfer.create({\n *   // wavesurfer options ...\n *   plugins: [\n *     MarkersPlugin.create({\n *       // plugin options ...\n *     })\n *   ]\n * });\n */\n\nconst DEFAULT_FILL_COLOR = \"#D8D8D8\";\nconst DEFAULT_POSITION = \"bottom\";\n\nexport default class MarkersPlugin {\n    /**\n     * @typedef {Object} MarkersPluginParams\n     * @property {?MarkerParams[]} markers Initial set of markers\n     * @fires MarkersPlugin#marker-click\n     */\n\n    /**\n     * Markers plugin definition factory\n     *\n     * This function must be used to create a plugin definition which can be\n     * used by wavesurfer to correctly instantiate the plugin.\n     *\n     * @param {MarkersPluginParams} params parameters use to initialise the plugin\n     * @since 4.6.0\n     * @return {PluginDefinition} an object representing the plugin\n     */\n    static create(params) {\n        return {\n            name: 'markers',\n            deferInit: params && params.deferInit ? params.deferInit : false,\n            params: params,\n            staticProps: {\n                addMarker(options) {\n                    if (!this.initialisedPluginList.markers) {\n                        this.initPlugin('markers');\n                    }\n                    return this.markers.add(options);\n                },\n                clearMarkers() {\n                    this.markers && this.markers.clear();\n                }\n            },\n            instance: MarkersPlugin\n        };\n    }\n\n    constructor(params, ws) {\n        this.params = params;\n        this.wavesurfer = ws;\n        this.util = ws.util;\n        this.style = this.util.style;\n        this.markerWidth = 11;\n        this.markerHeight = 22;\n\n\n        this._onResize = () => {\n            this._updateMarkerPositions();\n        };\n\n        this._onBackendCreated = () => {\n            this.wrapper = this.wavesurfer.drawer.wrapper;\n            if (this.params.markers) {\n                this.params.markers.forEach(marker => this.add(marker));\n            }\n            window.addEventListener('resize', this._onResize, true);\n            window.addEventListener('orientationchange', this._onResize, true);\n            this.wavesurfer.on('zoom', this._onResize);\n        };\n\n        this.markers = [];\n        this._onReady = () => {\n            this.wrapper = this.wavesurfer.drawer.wrapper;\n            this._updateMarkerPositions();\n        };\n    }\n\n    init() {\n        // Check if ws is ready\n        if (this.wavesurfer.isReady) {\n            this._onBackendCreated();\n            this._onReady();\n        } else {\n            this.wavesurfer.once('ready', this._onReady);\n            this.wavesurfer.once('backend-created', this._onBackendCreated);\n        }\n    }\n\n    destroy() {\n        this.wavesurfer.un('ready', this._onReady);\n        this.wavesurfer.un('backend-created', this._onBackendCreated);\n\n        this.wavesurfer.un('zoom', this._onResize);\n\n        window.removeEventListener('resize', this._onResize, true);\n        window.removeEventListener('orientationchange', this._onResize, true);\n\n        this.clear();\n    }\n\n    /**\n     * Add a marker\n     *\n     * @param {MarkerParams} params Marker definition\n     * @return {object} The created marker\n     */\n    add(params) {\n        let marker = {\n            time: params.time,\n            label: params.label,\n            color: params.color || DEFAULT_FILL_COLOR,\n            position: params.position || DEFAULT_POSITION\n        };\n\n        if (params.markerElement) {\n            this.markerWidth = params.markerElement.width;\n            this.markerHeight = params.markerElement.height;\n        }\n\n        marker.el = this._createMarkerElement(marker, params.markerElement);\n\n        this.wrapper.appendChild(marker.el);\n        this.markers.push(marker);\n        this._updateMarkerPositions();\n\n        return marker;\n    }\n\n    /**\n     * Remove a marker\n     *\n     * @param {number} index Index of the marker to remove\n     */\n    remove(index) {\n        let marker = this.markers[index];\n        if (!marker) {\n            return;\n        }\n\n        this.wrapper.removeChild(marker.el);\n        this.markers.splice(index, 1);\n    }\n\n    _createPointerSVG(color, position) {\n        const svgNS = \"http://www.w3.org/2000/svg\";\n\n        const el = document.createElementNS(svgNS, \"svg\");\n        const polygon = document.createElementNS(svgNS, \"polygon\");\n\n        el.setAttribute(\"viewBox\", \"0 0 40 80\");\n\n        polygon.setAttribute(\"id\", \"polygon\");\n        polygon.setAttribute(\"stroke\", \"#979797\");\n        polygon.setAttribute(\"fill\", color);\n        polygon.setAttribute(\"points\", \"20 0 40 30 40 80 0 80 0 30\");\n        if ( position == \"top\" ) {\n            polygon.setAttribute(\"transform\", \"rotate(180, 20 40)\");\n        }\n\n        el.appendChild(polygon);\n\n        this.style(el, {\n            width: this.markerWidth + \"px\",\n            height: this.markerHeight + \"px\",\n            \"min-width\": this.markerWidth + \"px\",\n            \"margin-right\": \"5px\",\n            \"z-index\": 4\n        });\n        return el;\n    }\n\n    _createMarkerElement(marker, markerElement) {\n        let label = marker.label;\n        let time = marker.time;\n\n        const el = document.createElement('marker');\n        el.className = \"wavesurfer-marker\";\n\n        this.style(el, {\n            position: \"absolute\",\n            height: \"100%\",\n            display: \"flex\",\n            overflow: \"hidden\",\n            \"flex-direction\": (marker.position == \"top\" ? \"column-reverse\" : \"column\")\n        });\n\n        const line = document.createElement('div');\n        this.style(line, {\n            \"flex-grow\": 1,\n            \"margin-left\": (this.markerWidth / 2 - 0.5) + \"px\",\n            background: \"black\",\n            width: \"1px\",\n            opacity: 0.1\n        });\n        el.appendChild(line);\n\n        const labelDiv = document.createElement('div');\n        const point = markerElement || this._createPointerSVG(marker.color, marker.position);\n        labelDiv.appendChild(point);\n\n        if ( label ) {\n            const labelEl = document.createElement('span');\n            labelEl.innerText = label;\n            this.style(labelEl, {\n                \"font-family\": \"monospace\",\n                \"font-size\": \"90%\"\n            });\n            labelDiv.appendChild(labelEl);\n        }\n\n        this.style(labelDiv, {\n            display: \"flex\",\n            \"align-items\": \"center\",\n            cursor: \"pointer\"\n        });\n\n        el.appendChild(labelDiv);\n\n        labelDiv.addEventListener(\"click\", e => {\n            e.stopPropagation();\n            this.wavesurfer.setCurrentTime(time);\n            this.wavesurfer.fireEvent(\"marker-click\", marker, e);\n        });\n\n        return el;\n    }\n\n    _updateMarkerPositions() {\n        const duration = this.wavesurfer.getDuration();\n\n        for ( let i = 0 ; i < this.markers.length; i++ ) {\n            let marker = this.markers[i];\n            const elementWidth =\n                this.wavesurfer.drawer.width /\n                this.wavesurfer.params.pixelRatio;\n\n            const positionPct = Math.min(marker.time / duration, 1);\n            const leftPx = ((elementWidth * positionPct) - (this.markerWidth / 2));\n            this.style(marker.el, {\n                \"left\":  leftPx + \"px\",\n                \"max-width\": (elementWidth - leftPx) + \"px\"\n            });\n        }\n    }\n\n    /**\n     * Remove all markers\n     */\n    clear() {\n        while ( this.markers.length > 0 ) {\n            this.remove(0);\n        }\n    }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/plugin/markers/index.js\");\n",""],"names":["DEFAULT_FILL_COLOR","DEFAULT_POSITION","MarkersPlugin","params","ws","_this","_classCallCheck","wavesurfer","util","style","markerWidth","markerHeight","_onResize","_updateMarkerPositions","_onBackendCreated","wrapper","drawer","markers","forEach","marker","add","window","addEventListener","on","_onReady","_createClass","key","value","init","isReady","once","destroy","un","removeEventListener","clear","time","label","color","position","markerElement","width","height","el","_createMarkerElement","appendChild","push","remove","index","removeChild","splice","_createPointerSVG","svgNS","document","createElementNS","polygon","setAttribute","_this2","createElement","className","display","overflow","line","background","opacity","labelDiv","point","labelEl","innerText","cursor","e","stopPropagation","setCurrentTime","fireEvent","duration","getDuration","i","length","elementWidth","pixelRatio","positionPct","Math","min","leftPx","create","name","deferInit","staticProps","addMarker","options","initialisedPluginList","initPlugin","clearMarkers","instance","exports","default","module"],"sourceRoot":""}